<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Connexion Commerçant - Livraison Locale</title>
<style>
body {font-family:'Segoe UI', Tahoma, sans-serif; background:#f4f6f8; display:flex; flex-direction:column; justify-content:center; align-items:center; min-height:100vh; margin:0;}
header {background:#00b4d8; color:white; text-align:center; padding:2rem; width:100%;}
header h1 {font-size:2.5rem; margin-bottom:0.5rem;}
header p {font-size:1.2rem;}
section {background:white; padding:2rem; border-radius:15px; box-shadow:0 4px 12px rgba(0,0,0,0.1); max-width:400px; width:90%; margin-top:1rem;}
h2 {color:#0077b6; text-align:center; margin-bottom:1rem;}
input {width:100%; padding:0.8rem; margin-bottom:1rem; border-radius:10px; border:1px solid #ccc; font-size:1rem;}
button {width:100%; padding:0.8rem; border:none; border-radius:10px; background:#0077b6; color:white; font-weight:600; cursor:pointer; transition:0.3s;}
button:hover {background:#0096c7;}
#errorMessage {color:red; text-align:center; margin-top:0.5rem; min-height:1.2em;}
footer {text-align:center; padding:2rem 1rem; background:#03045e; color:white; margin-top:2rem; width:100%;}
</style>
</head>
<body>

<header>
<h1>Connexion Commerçant</h1>
<p>Accédez à votre dashboard pour gérer vos produits</p>
</header>

<section>
<h2>Se connecter</h2>
<input type="email" id="email" placeholder="Email" required>
<input type="password" id="password" placeholder="Mot de passe" required>
<button onclick="login()">Se connecter</button>
<p id="errorMessage"></p>
</section>

<footer>
<p>© 2026 Livraison Locale | Contact : cedric.huet.pro@gmail.com</p>
</footer>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyB1mljASb5TevqJ1ucDqgXsYQZqEnNxQts",
  authDomain: "livraison-sablaise.firebaseapp.com",
  projectId: "livraison-sablaise",
  storageBucket: "livraison-sablaise.firebasestorage.app",
  messagingSenderId: "930839535214",
  appId: "1:930839535214:web:a3235919aa88d066bc507f",
  measurementId: "G-R3ZCGLQ69E"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

window.login = function() {
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;
  const errorEl = document.getElementById("errorMessage");

  signInWithEmailAndPassword(auth, email, password)
    .then(() => { window.location.href = "dashboard.html"; })
    .catch(err => { console.error(err); errorEl.textContent = "Email ou mot de passe incorrect"; });
}
</script>

</body>
</html>
